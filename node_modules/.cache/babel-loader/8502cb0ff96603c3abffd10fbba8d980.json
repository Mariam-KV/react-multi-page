{"ast":null,"code":"import _slicedToArray from\"C:/Users/marik/Desktop/react-multi-page/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Prompt}from\"react-router-dom\";import Card from\"../UI/Card\";import LoadingSpinner from\"../UI/LoadingSpinner\";import classes from\"./QuoteForm.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteForm=function QuoteForm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),entered=_useState2[0],setEntered=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isValid=_useState4[0],setValid=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),valueAuthor=_useState6[0],setAuthor=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),valueText=_useState8[0],setText=_useState8[1];function submitFormHandler(event){event.preventDefault();props.onAddQuote({author:valueAuthor,text:valueText});}var handleClick=function handleClick(){setEntered(false);};var handleFocus=function handleFocus(){setEntered(true);};var handleAuthor=function handleAuthor(event){setAuthor(event.target.value);};var handleText=function handleText(event){setText(event.target.value);};useEffect(function(){if(valueAuthor.trim().length>0&&valueText.trim().length>0){setValid(true);}},[valueAuthor,valueText]);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Prompt,{when:entered,message:\"Are you sure?\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:submitFormHandler,onFocus:handleFocus,children:[props.isLoading&&/*#__PURE__*/_jsx(\"div\",{className:classes.loading,children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",value:valueAuthor,onChange:handleAuthor})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"text\",rows:\"5\",value:valueText,onChange:handleText})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(\"button\",{className:isValid?\"btn\":\"btn invalid\",onClick:handleClick,disabled:!isValid,children:\"Add Quote\"})})]})]});};export default QuoteForm;","map":{"version":3,"names":["useEffect","useState","Prompt","Card","LoadingSpinner","classes","QuoteForm","props","entered","setEntered","isValid","setValid","valueAuthor","setAuthor","valueText","setText","submitFormHandler","event","preventDefault","onAddQuote","author","text","handleClick","handleFocus","handleAuthor","target","value","handleText","trim","length","form","isLoading","loading","control","actions"],"sources":["C:/Users/marik/Desktop/react-multi-page/src/components/quotes/QuoteForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Prompt } from \"react-router-dom\";\nimport Card from \"../UI/Card\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport classes from \"./QuoteForm.module.css\";\n\nconst QuoteForm = (props) => {\n  let [entered, setEntered] = useState(false);\n  let [isValid, setValid] = useState(false);\n  let [valueAuthor, setAuthor] = useState(\"\");\n  let [valueText, setText] = useState(\"\");\n  function submitFormHandler(event) {\n    event.preventDefault();\n\n    props.onAddQuote({ author: valueAuthor, text: valueText });\n  }\n\n  let handleClick = () => {\n    setEntered(false);\n  };\n  let handleFocus = () => {\n    setEntered(true);\n  };\n  let handleAuthor = (event) => {\n    setAuthor(event.target.value);\n  };\n  let handleText = (event) => {\n    setText(event.target.value);\n  };\n  useEffect(() => {\n    if (valueAuthor.trim().length > 0 && valueText.trim().length > 0) {\n      setValid(true);\n    }\n  }, [valueAuthor, valueText]);\n  return (\n    <Card>\n      <Prompt when={entered} message=\"Are you sure?\" />\n      <form\n        className={classes.form}\n        onSubmit={submitFormHandler}\n        onFocus={handleFocus}\n      >\n        {props.isLoading && (\n          <div className={classes.loading}>\n            <LoadingSpinner />\n          </div>\n        )}\n\n        <div className={classes.control}>\n          <label htmlFor=\"author\">Author</label>\n          <input\n            type=\"text\"\n            id=\"author\"\n            value={valueAuthor}\n            onChange={handleAuthor}\n          />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"text\">Text</label>\n          <textarea\n            id=\"text\"\n            rows=\"5\"\n            value={valueText}\n            onChange={handleText}\n          ></textarea>\n        </div>\n        <div className={classes.actions}>\n          <button\n            className={isValid ? \"btn\" : \"btn invalid\"}\n            onClick={handleClick}\n            disabled={!isValid}\n          >\n            Add Quote\n          </button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default QuoteForm;\n"],"mappings":"6HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,MAAM,KAAQ,kBAAkB,CACzC,MAAOC,KAAI,KAAM,YAAY,CAC7B,MAAOC,eAAc,KAAM,sBAAsB,CACjD,MAAOC,QAAO,KAAM,wBAAwB,CAAC,wFAE7C,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,KAAK,CAAK,CAC3B,cAA4BN,QAAQ,CAAC,KAAK,CAAC,wCAAtCO,OAAO,eAAEC,UAAU,eACxB,eAA0BR,QAAQ,CAAC,KAAK,CAAC,yCAApCS,OAAO,eAAEC,QAAQ,eACtB,eAA+BV,QAAQ,CAAC,EAAE,CAAC,yCAAtCW,WAAW,eAAEC,SAAS,eAC3B,eAA2BZ,QAAQ,CAAC,EAAE,CAAC,yCAAlCa,SAAS,eAAEC,OAAO,eACvB,QAASC,kBAAiB,CAACC,KAAK,CAAE,CAChCA,KAAK,CAACC,cAAc,EAAE,CAEtBX,KAAK,CAACY,UAAU,CAAC,CAAEC,MAAM,CAAER,WAAW,CAAES,IAAI,CAAEP,SAAU,CAAC,CAAC,CAC5D,CAEA,GAAIQ,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtBb,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CACD,GAAIc,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtBd,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,CACD,GAAIe,aAAY,CAAG,QAAfA,aAAY,CAAIP,KAAK,CAAK,CAC5BJ,SAAS,CAACI,KAAK,CAACQ,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAC,CACD,GAAIC,WAAU,CAAG,QAAbA,WAAU,CAAIV,KAAK,CAAK,CAC1BF,OAAO,CAACE,KAAK,CAACQ,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAC,CACD1B,SAAS,CAAC,UAAM,CACd,GAAIY,WAAW,CAACgB,IAAI,EAAE,CAACC,MAAM,CAAG,CAAC,EAAIf,SAAS,CAACc,IAAI,EAAE,CAACC,MAAM,CAAG,CAAC,CAAE,CAChElB,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CAAE,CAACC,WAAW,CAAEE,SAAS,CAAC,CAAC,CAC5B,mBACE,MAAC,IAAI,yBACH,KAAC,MAAM,EAAC,IAAI,CAAEN,OAAQ,CAAC,OAAO,CAAC,eAAe,EAAG,cACjD,cACE,SAAS,CAAEH,OAAO,CAACyB,IAAK,CACxB,QAAQ,CAAEd,iBAAkB,CAC5B,OAAO,CAAEO,WAAY,WAEpBhB,KAAK,CAACwB,SAAS,eACd,YAAK,SAAS,CAAE1B,OAAO,CAAC2B,OAAQ,uBAC9B,KAAC,cAAc,IAAG,EAErB,cAED,aAAK,SAAS,CAAE3B,OAAO,CAAC4B,OAAQ,wBAC9B,cAAO,OAAO,CAAC,QAAQ,oBAAe,cACtC,cACE,IAAI,CAAC,MAAM,CACX,EAAE,CAAC,QAAQ,CACX,KAAK,CAAErB,WAAY,CACnB,QAAQ,CAAEY,YAAa,EACvB,GACE,cACN,aAAK,SAAS,CAAEnB,OAAO,CAAC4B,OAAQ,wBAC9B,cAAO,OAAO,CAAC,MAAM,kBAAa,cAClC,iBACE,EAAE,CAAC,MAAM,CACT,IAAI,CAAC,GAAG,CACR,KAAK,CAAEnB,SAAU,CACjB,QAAQ,CAAEa,UAAW,EACX,GACR,cACN,YAAK,SAAS,CAAEtB,OAAO,CAAC6B,OAAQ,uBAC9B,eACE,SAAS,CAAExB,OAAO,CAAG,KAAK,CAAG,aAAc,CAC3C,OAAO,CAAEY,WAAY,CACrB,QAAQ,CAAE,CAACZ,OAAQ,uBAGZ,EACL,GACD,GACF,CAEX,CAAC,CAED,cAAeJ,UAAS"},"metadata":{},"sourceType":"module"}